library(raster)
crop<-function(params){
  img=raster(paste0("data/tocrop/",params$file,".tif"))
  img_mat=as.matrix(img)
  img_crop<-raster(img_mat[params$ystart:params$yend,params$xstart:params$xend])
  writeRaster(img_crop,paste0("data/",params$file,"_",params$ystart,"-",params$yend,".tif"))
}

list_image<-list(
  list(file="1-tyrode_30 000_v7_cell B_10122020",ystart=764,yend=16710,xstart=105,xend=386),
  list(file="3-ISO_30 000_v7_cell B_10122020",ystart=14000,yend=30000,xstart=122,xend=360),
  list(file="5-ISO + Nife_30 000_v7_cell B_10122020",ystart=15100,yend=21600,xstart=137,xend=338),
  list(file="5-ISO + Nife_30 000_v7_cell B_10122020",ystart=22850,yend=30000,xstart=137,xend=338),
  list(file="1-Tyrode_v7_Cell D_07012021",ystart=0,yend=16000,xstart=72,xend=352),
  list(file="3-ISO_v7_Cell D_07012021",ystart=14000,yend=30000,xstart=72,xend=355),
  list(file="6-ISO + Nife_v7_Cell D_07012021",ystart=14000,yend=30000,xstart=73,xend=350),
  list(file="1-Tyrode_v7_30 000_Cell A_11022021",ystart=14000,yend=30000,xstart=12,xend=193),
  list(file="2-ISO_v7_30 000_Cell A_11022021",ystart=14000,yend=30000,xstart=46,xend=214),
  list(file="5-ISO + Nife_v7_30 000_Cell A_11022021",ystart=14000,yend=30000,xstart=48,xend=219),
  list(file="1-Tyrode et ISO a 32sec_v7_30 000_Cell B_09032021",ystart=0,yend=16000,xstart=152,xend=308),
  list(file="2-ISO et Nife a 32sec_v7_30 000_Cell B_09032021",ystart=0,yend=16000,xstart=165,xend=389),
  list(file="3-ISO +Nife_v7_30 000_Cell B_09032021",ystart=0,yend=16000,xstart=156,xend=334),
  list(file="3-ISO +Nife_v7_30 000_Cell B_09032021",ystart=5350,yend=7320,xstart=156,xend=334),
  list(file="3-ISO +Nife_v7_30 000_Cell B_09032021",ystart=7790,yend=9400,xstart=156,xend=334),
  list(file="1-Tyrode et ISO a 32sec_v7_30 000_Cell A_12032021",ystart=0,yend=16000,xstart=246,xend=352),
  list(file="2-ISO et Nife a 32sec_v7_30 000_Cell A_12032021",ystart=0,yend=12000,xstart=250,xend=350),
  list(file="3-ISO + Nife_v7_30 000_Cell A_12032021",ystart=14000,yend=30000,xstart=246,xend=348),
  list(file="1-Tyrode et ISO a 32sec_v7_30 000_Cell D_08042021",ystart=0,yend=16000,xstart=4,xend=140),
  list(file="2-ISO et Nife a 32sec_v7_30 000_Cell D_08042021",ystart=0,yend=16000,xstart=0,xend=126),
  list(file="3-ISO + Nife et caffeine a 32sec_v7_30 000_Cell D_08042021",ystart=0,yend=16000,xstart=0,xend=145),
  list(file="4-ISO + Nife + caffeine et wahout caff a 32sec_v7_30 000_Cell D_08042021",ystart=0,yend=16000,xstart=0,xend=148),
  list(file="1-Tyrode et ISO a 32sec_v7_30 000_Cell C_13042021",ystart=0,yend=16000,xstart=249,xend=373),
  list(file="2-ISO et Nife a 32sec_v7_30 000_Cell C_13042021",ystart=0,yend=16000,xstart=249,xend=385),
  list(file="3-ISO + Nife et caff a 32sec_v7_30 000_Cell C_13042021",ystart=0,yend=16000,xstart=244,xend=381),
  list(file="1-tyrode_30 000_v7_cell F_10122020",ystart=10000,yend=26000,xstart=189,xend=310),
  list(file="3-ISO_30 000_v7_cell F_10122020",ystart=14000,yend=30000,xstart=191,xend=305),
  list(file="5-ISO + Nife_30 000_v7_cell F_10122020",ystart=14000,yend=30000,xstart=182,xend=314),
  list(file="1-Tyrode_v7_Cell C_17122020",ystart=0,yend=16000,xstart=192,xend=324),
  list(file="3-ISO_v7_Cell C_17122020",ystart=14000,yend=30000,xstart=197,xend=326),
  list(file="5-ISO + Nife_v7_Cell C_17122020",ystart=0,yend=16000,xstart=196,xend=346),
  list(file="1-Tyrode_v7_30 000 lines_Cell E_04022021",ystart=0,yend=16000,xstart=209,xend=344),
  list(file="2-ISO_v7_30 000 lines_Cell E_04022021",ystart=14000,yend=30000,xstart=210,xend=345),
  list(file="4-ISO + Nife_v7_30 000 lines_Cell E_04022021",ystart=14000,yend=30000,xstart=210,xend=345),
  list(file="1-Tyrode_v7_30 000_Cell D_09022021",ystart=0,yend=16000,xstart=138,xend=270),
  list(file="3-ISO_v7_30 000_Cell D_09022021",ystart=14000,yend=30000,xstart=140,xend=266),
  list(file="5-ISO+ Nife_v7_30 000_Cell D_09022021",ystart=14000,yend=30000,xstart=135,xend=265),
  list(file="1-Tyrode_v7_Cell F_17122020",ystart=0,yend=30000,xstart=150,xend=290),
  list(file="4-ISO_v7_Cell F_17122020",ystart=14000,yend=30000,xstart=165,xend=296),
  list(file="6-ISO + Nife_v7_Cell F_17122020",ystart=0,yend=30000,xstart=165,xend=300),
  list(file="1-Tyrode_v7_Cell B_07012021",ystart=0,yend=30000,xstart=85,xend=315),
  list(file="4-ISO_v7_Cell B_07012021",ystart=0,yend=30000,xstart=85,xend=330),
  list(file="6-ISO + Nife_v7_Cell B_07012021",ystart=0,yend=30000,xstart=90,xend=310),
  list(file="1-Tyrode_v7_Cell C_07012021",ystart=0,yend=30000,xstart=193,xend=475),
  list(file="4-ISO_v7_Cell C_07012021",ystart=0,yend=16000,xstart=200,xend=466),
  list(file="5-ISO + Nife_v7_Cell C_07012021",ystart=16500,yend=30000,xstart=214,xend=460),
  list(file="5-ISO + Nife_v7_Cell C_07012021",ystart=12000,yend=15000,xstart=214,xend=460),
  list(file="1-Tyrode_v7_30 000_Cell A_09022021",ystart=0,yend=30000,xstart=0,xend=156),
  list(file="6-ISO + Nife_v7_30 000_Cell A_09022021",ystart=0,yend=16000,xstart=42,xend=138),
  list(file="7-ISO + Nife_v7_30 000_Cell A_09022021",ystart=0,yend=30000,xstart=0,xend=144),
  list(file="1-Tyrode_v7_30 000_Cell E_09022021",ystart=0,yend=30000,xstart=0,xend=238),
  list(file="2-ISO_v7_30 000_Cell E_09022021",ystart=14000,yend=30000,xstart=0,xend=238),
  list(file="1-Tyrode_v7_30 000_Cell D_11022021",ystart=0,yend=30000,xstart=77,xend=227),
  list(file="3-ISO_v7_30 000_Cell D_11022021",ystart=0,yend=30000,xstart=82,xend=230),
  list(file="5-ISO + Nife_v7_30 000_Cell D_11022021",ystart=0,yend=30000,xstart=84,xend=224),
  list(file="1-Tyrode_v7_30 000_Cell D_02032021",ystart=0,yend=30000,xstart=111,xend=352),
  list(file="3-ISO_v7_30 000_Cell D_02032021",ystart=0,yend=30000,xstart=110,xend=353),
  list(file="6-ISO + Nife_v7_30 000_Cell D_02032021",ystart=0,yend=30000,xstart=104,xend=350),
  list(file="1-Tyrode_v7_30 000_Cell C_05032021",ystart=0,yend=30000,xstart=85,xend=358),
  list(file="4-ISO_v7_30 000_Cell C_05032021",ystart=14000,yend=30000,xstart=96,xend=254),
  list(file="7-ISO + Nife_v7_30 000_Cell C_05032021",ystart=0,yend=16000,xstart=77,xend=255),
  list(file="1-Tyrode_v7_30 000_Cell D_05032021",ystart=0,yend=30000,xstart=122,xend=295),
  list(file="3-ISO_v7_30 000_Cell D_05032021",ystart=14000,yend=30000,xstart=150,xend=280),
  list(file="6-ISO + Nife_v7_30 000_Cell D_05032021",ystart=0,yend=30000,xstart=118,xend=310),
  list(file="1-Tyrode_v7_30 000_Cell A_09032021",ystart=0,yend=30000,xstart=72,xend=283),
  list(file="3-ISO et Nife a 30sec_v7_30 000_Cell A_09032021",ystart=0,yend=16000,xstart=149,xend=269),
  list(file="4-ISO + Nife_v7_30 000_Cell A_09032021",ystart=14000,yend=30000,xstart=220,xend=313),
  list(file="1-Tyrode_v7_30 000_Cell C_09032021",ystart=0,yend=30000,xstart=179,xend=274),
  list(file="3-ISO et Nife a 32sec_v7_30 000_Cell C_09032021",ystart=0,yend=16000,xstart=180,xend=270),
  list(file="3-ISO et Nife a 32sec_v7_30 000_Cell C_09032021",ystart=17500,yend=23000,xstart=180,xend=270),
  list(file="1-Tyrode_v7_30 000_Cell D_09032021",ystart=0,yend=30000,xstart=210,xend=280),
  list(file="4-ISO et Nife a 32sec_v7_30 000_Cell D_09032021",ystart=0,yend=16000,xstart=250,xend=315),
  list(file="5-ISO + Nife_v7_30 000_Cell D_09032021",ystart=14000,yend=30000,xstart=225,xend=300),
  list(file="1-Tyrode_v7_30 000_Cell D_12032021",ystart=0,yend=30000,xstart=120,xend=258),
  list(file="3-ISO_v7_30 000_Cell D_12032021",ystart=14000,yend=30000,xstart=130,xend=335),
  list(file="5-ISO + Nife_v7_30 000_Cell D_12032021",ystart=14000,yend=30000,xstart=130,xend=335),
  list(file="1-Tyrode_v7_30 000_Cell F_12032021",ystart=0,yend=30000,xstart=190,xend=385),
  list(file="3-ISO + Nife_v7_30 000_Cell F_12032021",ystart=0,yend=5500,xstart=195,xend=380),
  list(file="4-ISO + Nife_v7_30 000_Cell F_12032021",ystart=4000,yend=20000,xstart=195,xend=382),
  list(file="1-Tyrode_v7_30 000_Cell B_09022021",ystart=0,yend=30000,xstart=25,xend=300),
  list(file="4-ISO_v7_30 000_Cell B_09022021",ystart=14000,yend=30000,xstart=30,xend=300),
  list(file="6-ISO + Nife_v7_30 000_Cell B_09022021",ystart=14000,yend=30000,xstart=30,xend=310),
  list(file="1-Tyrode_v7_30 000_Cell E_02032021",ystart=0,yend=30000,xstart=300,xend=475),
  list(file="4-ISO_v7_30 000_Cell E_02032021",ystart=14000,yend=30000,xstart=330,xend=467),
  list(file="7-ISO + Nife_v7_30 000_Cell E_02032021",ystart=14000,yend=30000,xstart=317,xend=465),
  list(file="1-Tyrode_v7_30 000_Cell C_02032021",ystart=0,yend=30000,xstart=93,xend=340),
  list(file="3-ISO_v7_30 000_Cell C_02032021",ystart=14000,yend=30000,xstart=160,xend=335),
  list(file="5-ISO + Nife_v7_30 000_Cell C_02032021",ystart=0,yend=30000,xstart=153,xend=337),
  list(file="1-Tyrode_v7_30 000_Cell B_02042021",ystart=0,yend=30000,xstart=210,xend=474),
  list(file="3-ISO et Nife a 32sec_v7_30 000_Cell B_02042021",ystart=0,yend=16000,xstart=217,xend=462),
  list(file="4-ISO + Nife et Caffeine 200microM a 32sec_v7_30 000_Cell B_02042021",ystart=0,yend=16000,xstart=209,xend=465),
  list(file="5-ISO + Nife + Caffeine_v7_30 000_Cell B_02042021",ystart=0,yend=16000,xstart=209,xend=468),
  list(file="1-Tyrode_v7_30 000_Cell F_02042021",ystart=0,yend=30000,xstart=7,xend=125),
  list(file="3-ISO et Nife a 32sec_v7_30 000_Cell F_02042021",ystart=2500,yend=16000,xstart=36,xend=114),
  list(file="4-ISO + Nife et caffeine a 32sec_v7_30 000_Cell F_02042021",ystart=0,yend=16000,xstart=0,xend=114),
  list(file="5-ISO + Nife + caffeine_v7_30 000_Cell F_02042021",ystart=0,yend=30000,xstart=7,xend=118),
  list(file="1-Tyrode_v7_30 000_Cell C_08042021",ystart=0,yend=30000,xstart=180,xend=346),
  list(file="4-ISO et Nife a 32sec_v7_30 000_Cell C_08042021",ystart=0,yend=16000,xstart=180,xend=348),
  list(file="5-ISO + Nife et caffeine  a 32sec_v7_30 000_Cell C_08042021",ystart=0,yend=16000,xstart=177,xend=347),
  list(file="6-ISO + Nife + caffeine et washout caff a 32sec_v7_30 000_Cell C_08042021",ystart=0,yend=16000,xstart=178,xend=346),
  list(file="1-Tyrode_v7_30 000_Cell F_08042021",ystart=0,yend=30000,xstart=140,xend=316),
  list(file="4-ISO et Nife a 32sec_v7_30 000_Cell F_08042021",ystart=0,yend=16000,xstart=145,xend=312),
  list(file="5-ISO + Nife et caffeine a 32sec_v7_30 000_Cell F_08042021",ystart=0,yend=30000,xstart=147,xend=312)
)

mclapply(list_image,crop,mc.cores=3L)
